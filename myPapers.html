<!DOCTYPE html>
<html  >
<head>
  <!-- Site made with Mobirise Website Builder v5.3.5, https://mobirise.com -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v5.3.5, mobirise.com">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="assets/images/zee_papers_favicon.png" type="image/x-icon">
  <meta name="description" content="New SecureM4 Theme HTML Template - Download Now!">
  
  
  <title>My Pappers</title>
  <link rel="stylesheet" href="assets/web/assets/mobirise-icons2/mobirise2.css">
  <link rel="stylesheet" href="assets/web/assets/mobirise-icons/mobirise-icons.css">
  <link rel="stylesheet" href="assets/tether/tether.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/formstyler/jquery.formstyler.css">
  <link rel="stylesheet" href="assets/formstyler/jquery.formstyler.theme.css">
  <link rel="stylesheet" href="assets/datepicker/jquery.datetimepicker.min.css">
  <link rel="stylesheet" href="assets/socicon/css/styles.css">
  <link rel="stylesheet" href="assets/theme/css/myPapers.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="stylesheet" href="assets/recaptcha.css">
  <link rel="preload" href="https://fonts.googleapis.com/css?family=Bellota+Text:300,300i,400,400i,700,700i&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Bellota+Text:300,300i,400,400i,700,700i&display=swap"></noscript>
  <link rel="preload" as="style" href="assets/mobirise/css/mbr-additional.css"><link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>

  
</head>

<body style="background-color: #f2f3f7; height: 100% !important;">

    <section class="testimonials1 cid-svGOzp5ABzz mb-4">
        <div class="row" style="background-color: #f2f3f7;">
            <div class="col-2 leftDiv">
                <iframe src="sidebar.html" height="100%" frameborder="0" style="height: 200% !important;"></iframe>
            </div>
            <div class="card-wrapper col-lg-8 col-md-8 mt-2">

                <section class="features6 cid-svGOrpYd1R" id="features06-2">
                    <div class="container">
                        <div class="row ">
                            <div class="col-12 pb-4 col-lg-9">
                                <h3 class="mbr-section-title mbr-fonts-style align-center mb-0 display-1">
                                    <strong>My Papers</strong>
                                </h3>
                                <h5 class="mbr-section-subtitle mbr-fonts-style align-center mb-4 mt-2 display-7"><strong>Lorem ipsum
                                        dolor sit amet, consectetur adipiscing elit.</strong></h5>
                            </div>
                        </div>
                        <div class="row justify-content-center pt-2" id="cardContainer">
                        </div>
                    </div>
                </section>

                <center>
                    <a href="papers.html" class="btn btn-primary">Load More</a>
                </center>

            </div>
            <div class="col-lg-2 col-md-0 rightDiv"></div>
        </div>
    </section>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.6.0/umd/popper.min.js"
        integrity="sha512-BmM0/BQlqh02wuK5Gz9yrbe7VyIVwOzD1o40yi1IsTjriX/NGF37NyXHfmFzIlMmoSIBXgqDiG1VNU6kB5dBbA=="
        crossorigin="anonymous"></script>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>


    <script>
        async function fetchData() {
            try {
                const response = await fetch('http://localhost:8000/api/articles/');
                const data = await response.json();
                renderCards(data);
            } catch (error) {
                console.error('Error fetching data:', error);
            }
        }

        // Function to truncate text to a certain number of words
        function truncateText(text, maxWords) {
            const words = text.split(' ');
            if (words.length > maxWords) {
                return words.slice(0, maxWords).join(' ') + '...';
            }
            return text;
        }

        function renderCards(data) {
    const cardContainer = document.getElementById('cardContainer');
    cardContainer.innerHTML = ''; // Clear previous content

    if (Array.isArray(data) && data.length > 0) {
        for (const item of data) {
            const card = document.createElement('div');
            card.className = 'card col-12 col-md-6 col-lg-4 mb-2';

            card.innerHTML = `
                <div class="card-wrapper">
                    <div class="card-box align-center">
                       
                        <h5 class="card-title mbr-fonts-style display-7"><strong>${item.title}</strong></h5>
                        <p class="card-text mbr-fonts-style display-8"><strong>${item.content}</strong><br></p>
                        <a href="papers.html" class="btn btn-primary">More</a>
                    </div>
                </div>
            `;

            cardContainer.appendChild(card);
        }
    } else {
    console.log('Invalid data format:', data);
}
}

// Call the fetchData function when the page loads
fetchData();
    </script>
</body>

</html>